<!DOCTYPE html>
<html lang="en">
    <head>
        <script src="https://cdn.quilljs.com/1.3.7/quill.js"></script>
        <!--<script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>-->
        <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet">
        <link href="style.css" rel="stylesheet" type="text/css" />
        <title>Document</title>
    </head>
    <body>

        <div id="editor1">
            <p>salut</p>
        </div>
        <button>Oui</button>

        <div id="editor2">
            <p>salut</p>
        </div>

        <script>

            var currentEditor; // selected / focused editor

            createEditor("#editor1");
            createEditor("#editor2");

            function createEditor(selector) //https://github.com/quilljs/quill/issues/633
            {
                let quill = new Quill(selector, {
                    modules: {
                    toolbar: false
                }, });
                
                quill.on("editor-change", (eventName, ...args) =>
                {
                    currentEditor = quill;
                });
            }

        </script>
    
    </body>
</html>

<!--<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.quilljs.com/1.2.6/quill.js"></script>
    <link href="https://cdn.quilljs.com/1.2.6/quill.snow.css" rel="stylesheet">

    <style>

        .active {
            background: green;
        }

    </style>
</head>
<body>
    
    <button id="bold" onclick="onBoldClick()">Bold</button>

    <div id="editor1">
        <p>Hello World!</p>
    </div>

    <div id="editor2">
        <p>Hello World!</p>
    </div>
    
    <script>

        var currentEditor; // selected / focused editor
        var currentFormats; // save the current formattings

        createEditor("#editor1");
        createEditor("#editor2");

        function createEditor(selector)
        {
            let quill = new Quill(selector, { });
            
            quill.on("editor-change", (eventName, ...args) =>
            {
                currentEditor = quill;
                updateButtons();
            });
        }

        // get current formattings to style the toolbar buttons
        function updateButtons()
        {
            if(currentEditor.getSelection())
            {
                currentFormats = currentEditor.getFormat();

                if(currentFormats.bold)
                {
                    bold.classList.add("active");
                }
                else
                {
                    bold.classList.remove("active");
                }
            }
        }

        // if selected text is bold => unbold it - if it isn't => bold it
        function onBoldClick()
        {
            if(!currentFormats || !currentEditor)
            {
                return;
            }

            if(currentFormats.bold)
            {
                currentEditor.format("bold", false);
            }
            else
            {
                currentEditor.format("bold", true);                
            }
        }
        
    </script>

</body>
</html>-->